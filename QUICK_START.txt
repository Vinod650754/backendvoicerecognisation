QUICK START GUIDE
=================

ğŸš€ ONE-COMMAND SETUP (Windows PowerShell):

# Terminal 1 - Backend Server
cd C:\vscodeprojects\home_app
py -3 -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install -r backend/requirements.txt
python -m uvicorn backend.app:app --host 0.0.0.0 --port 8000 --reload

# Terminal 2 - Flutter App (wait for backend to start first!)
cd C:\vscodeprojects\home_app
flutter pub get
flutter run -v

---

ğŸ“‹ SYSTEM REQUIREMENTS:
âœ“ Windows 10+ with PowerShell 5.1
âœ“ Flutter 3.x (flutter --version)
âœ“ Python 3.9+ (python --version)
âœ“ Android SDK / Emulator
âœ“ ESP32 microcontroller (with Arduino sketch)

---

ğŸ”§ BEFORE YOU START:

1. Set Python execution policy (if needed):
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

2. For physical Android device (NOT emulator):
   - Edit lib/main.dart line ~32
   - Change backendIp from '10.0.2.2' to your PC's IP
   - Find IP: ipconfig | grep "IPv4 Address"

3. Ensure ESP32 is programmed with:
   - Device name: ESP32_DoorLock
   - Write characteristic UUID: 0000bbbb-0000-1000-8000-00805f9b34fb
   - Notify characteristic UUID: 0000aaaa-0000-1000-8000-00805f9b34fb

---

âš™ï¸ EXPECTED OUTPUT:

Backend (Terminal 1):
  INFO:     Uvicorn running on http://0.0.0.0:8000
  INFO:     Application startup complete
  [DevTools] http://127.0.0.1:8000/docs

Flutter (Terminal 2):
  Launching lib/main.dart on <device> in debug mode...
  ğŸ”¥  To hot reload changes while running, press "r"

---

ğŸ¯ TESTING:

1. App opens â†’ 3 tabs appear (Main, Voice Recognition, Samples)
2. Main tab â†’ Shows "Bluetooth Not Connected" initially
3. App searches for ESP32_DoorLock automatically
4. Once connected â†’ Shows "Bluetooth Connected"
5. Voice tab â†’ Starts listening automatically (microphone permission)
6. Samples tab â†’ Collect voice samples for retraining

---

ğŸ› COMMON ISSUES:

Q: App crashes on startup
A: Enable microphone permission in Android Settings â†’ Apps â†’ home_app

Q: "Bluetooth Not Connected" stays forever
A: Ensure ESP32 is powered on and advertising as "ESP32_DoorLock"

Q: Backend won't start (ModuleNotFoundError)
A: Activate venv first: .\.venv\Scripts\Activate.ps1

Q: App can't connect to backend
A: - For emulator: Keep backend on 10.0.2.2:8000
     - For device: Update BACKEND_IP in lib/main.dart to your LAN IP

Q: Voice recognition not working
A: Check microphone permission + ensure backend is running

---

ğŸ’¡ DEBUG BUTTONS (for testing without voice):

In Main tab (debug mode):
- "Simulate Wake" â†’ Triggers wakeword detection simulation
- "Simulate Unlock" â†’ Sends unlock command to ESP32
- "Simulate Lock" â†’ Sends lock command to ESP32

---

ğŸ“ KEY FILES:

lib/main.dart              â†’ Flutter app (ALL UI, BLE, recording, backend calls)
backend/app.py            â†’ FastAPI server (ML inference)
backend/requirements.txt   â†’ Python dependencies
backend/models/           â†’ Pre-trained ML models
README.md                 â†’ Full documentation
PROJECT_COMPLETION.txt    â†’ This completion checklist

---

ğŸ¤ VOICE CONTROL FLOW:

1. App listens continuously (1.2s clips every 1.5s)
2. Say wakeword â†’ Backend detects (/detect_wakeword/)
3. Backend verifies it's you (/verify_voice/)
4. App records command (2.5s)
5. Backend classifies intent (/detect_command/) â†’ "unlock" or "lock"
6. Backend re-verifies voice
7. If verified â†’ Send BLE command to ESP32 â†’ Door unlocks/locks

---

âœ… SUCCESS INDICATORS:

âœ“ Terminal 1: Backend running with "Application startup complete"
âœ“ Terminal 2: Flutter app launched on emulator/device
âœ“ App UI shows 3 tabs and Bluetooth connection status
âœ“ No microphone permission errors in logcat
âœ“ Can tap simulate buttons without crashes

---

ğŸ”’ SECURITY REMINDERS:

- Never share backend IP on public internet (LAN only)
- Voice models are sensitive; keep backup of backend/models/
- All voice credentials handled server-side (not on device)
- Security alerts logged to backend/alerts/ (monitor regularly)

---

READY TO LAUNCH! ğŸš€

Questions? Check README.md for detailed troubleshooting.
